%Mp = param.Mp;
%Mc = param.Mc;
%L = param.L;
%g = param.g;
dt = 0.01;
A = [0 , 0 , 1, 0;
     0, 0 , 0 ,1;
     0 , (m*g)/M, -Am/M ,0;
     0, -(g*(Mc+m))/(M*l), Am/(M*l), 0 ];
B = [0; 0 ; Beq/M; -Beq/(M*l)];
C= [1 0 0 0; 
    0 1 0 0];
D =[0 ; 0];
sysc = ss(A,B,C,D);
sysd = c2d(sysc,dt);
A = sysd.A;
B = sysd.B;
Q = diag([10^2;10^2;0;0])+diag([0;0;1;1]);
R = 1 ;
[P,K_lqr,~]=idare(A,B,Q,R);
